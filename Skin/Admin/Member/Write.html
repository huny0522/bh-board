<?php if(_BH_ !== true) exit;
use \BH_Common as CF;
use \BH_Application as App;

/**
 * @var $Model \MemberModel
 * @var $this \BH_Application
*/
?>

<h2>회원관리</h2>

<form name="MemberWriteForm" id="MemberWriteForm" method="post" action="<?a. $this->Action ?><?fq. '' ?>">
	<?php if($this->Action == 'Modify'){ ?>
		<input type="hidden" name="muid" value="<?p. $Ctrl->model->GetValue('muid') ?>">
	<?php } ?>

	<table class="write">
		<tr>
			<th><?p. $Model->data['mid']->DisplayName ?></th>
			<td>
				<?php if($this->Action == 'Modify'){ ?>
					<?v. $Model->GetValue('mid') ?>
				<?php }else{ ?>
					<?p. $Model->HTMLPrintInput('mid') ?>
					<ul class="guide">
						<li>4자 이상, 16자 이하로 입력하여주세요.</li>
						<li>영문만 입력하여 주세요.</li>
					</ul>
				<?php } ?>
			</td>
		</tr>
		<tr>
			<th><?php if($this->Action == 'Write'){ ?><i class="requiredBullet" title="필수항목">*</i><?php } ?> <?p. $Model->data['pwd']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('pwd') ?>
				<ul class="guide">
					<li>8자 이상, 16자 이하로 입력하여주세요.</li>
				</ul>
			</td>
		</tr>
		<tr>
			<th><i class="requiredBullet" title="필수항목">*</i> <?p. $Model->data['mname']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('mname') ?>
				<ul class="guide">
					<li>20자 이하로 입력하여주세요.</li>
				</ul>
			</td>
		</tr>
		<tr>
			<th><i class="requiredBullet" title="필수항목">*</i> <?p. $Model->data['email']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('email') ?>
			</td>
		</tr>
		<tr>
			<th><?p. $Model->data['cname']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('cname') ?>
			</td>
		</tr>
		<tr>
			<th><?p. $Model->data['nickname']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('nickname') ?>
			</td>
		</tr>
		<tr>
			<th><?p. $Model->data['level']->DisplayName ?></th>
			<td>
				<select name="level">
					<?p. SelectOption(self::$_Value['level'], $Model->GetValue('level')) ?>
				</select>
			</td>
		</tr>
		<tr>
			<th><?p. $Model->data['address1']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('address1') ?>
			</td>
		</tr>
		<tr>
			<th><?p. $Model->data['address2']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('address2') ?>
			</td>
		</tr>
		<tr>
			<th><?p. $Model->data['zipcode']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('zipcode') ?>
			</td>
		</tr>
		<tr>
			<th><?p. $Model->data['tel']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('tel') ?>
			</td>
		</tr>
		<tr>
			<th><?p. $Model->data['phone']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('phone') ?>
			</td>
		</tr>
<?php if(0 && $Model->GetValue('level') < 20){ ?>
		<tr>
			<th><?p. $Model->data['approve']->DisplayName ?></th>
			<td>
				<?p. $Model->HTMLPrintInput('approve') ?>
			</td>
		</tr>
<?php } ?>
	</table>

	<div class="bottomBtn">
		<button type="submit" class="bBtn"><?php echo $this->Action == 'Modify' ? '수정' : '등록'; ?></button>
		<button type="reset" class="bBtn">취소</button>
		<a href="#" class="backbtn bBtn">뒤로</a>
	</div>
</form>

<script>
	$(document).on('submit', '#MemberWriteForm', function(e){
		var res = common.valCHeck(this);
		if(!res){
			e.preventDefault();
			return false;
		}
	});
</script>
